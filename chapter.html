<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav>
        <ul>
            <li><a href="index.html">🏠 Home</a></li>
            <li><a href="popular.html">🔥 Popular</a></li>
            <li><a href="genres.html">📚 Genres</a></li>
            <li><a href="about.html">ℹ️ About</a></li>
        </ul>
    </nav>

    <div class="chapter-container">
        <h1 id="chapterTitle"></h1>
        <div class="navigation">
            <button id="prevChapter">⬅️ Sebelumnya</button>
            <button id="nextChapter">➡️ Berikutnya</button>
        </div>
        <img id="chapterImage" src="" alt="Chapter Image">
    </div>

    <script>
        const params = new URLSearchParams(window.location.search);
        const comicTitle = params.get("title") || "Judul Komik 1 - Chapter 1";
        
        // Format ulang nama file gambar
        let formattedTitle = comicTitle
            .replace(/\s+/g, "_")  // Ganti spasi dengan _
            .replace(/-/g, "_")    // Ganti - dengan _
            .toLowerCase();        // Pakai huruf kecil semua
        
        // Atur judul dan gambar
        document.getElementById("chapterTitle").innerText = comicTitle;
        document.getElementById("chapterImage").src = `images/${formattedTitle}.jpg`;
        const currentParams = new URLSearchParams(window.location.search);
        const currentTitle = currentParams.get("title") || "Judul Komik 1 - Chapter 1";
        
        const currentChapter = parseInt(currentParams.get("chapter")) || 1;
        const comicName = currentParams.get("komik") || "judul_komik_1";
        
        document.getElementById("chapterTitle").innerText = currentTitle;
        
        // Buat fungsi untuk berpindah chapter
        document.getElementById("prevChapter").addEventListener("click", function() {
            if (currentChapter > 1) {
                window.location.href = `chapter.html?komik=${comicName}&chapter=${currentChapter - 1}`;
            }
        });
        
        document.getElementById("nextChapter").addEventListener("click", function() {
            window.location.href = `chapter.html?komik=${comicName}&chapter=${currentChapter + 1}`;
        });

    </script>
</body>
</html>
